<app-review-add></app-review-add>

<div *ngIf="reviews.length == 0">
    There are no reviews for this book.
</div>

<div *ngIf="reviews.length != 0">
    <div class="row" *ngFor="let review of reviews">
        <div class="col user-info-review" ng-init>
            <div class="row mb-4">
                <div class="col-lg-1">
                    <span class="material-icons account-circle me-1">account_circle</span>
                </div>
                <div class="col">
                    <!-- <div class="row"> -->
                        <div class="user-description d-inline me-1"><span class="fw-bold">User with id {{ review.id }}</span> rated it</div>
                        <span class="material-icons star-rate" [class.checked]="review.rating >= 1">star_rate</span>
                        <span class="material-icons star-rate" [class.checked]="review.rating >= 2">star_rate</span>
                        <span class="material-icons star-rate" [class.checked]="review.rating >= 3">star_rate</span>
                        <span class="material-icons star-rate" [class.checked]="review.rating >= 4">star_rate</span>
                        <span class="material-icons star-rate" [class.checked]="review.rating == 5">star_rate</span>
                        <div class="d-inline float-end text-muted">{{ review.dateCreated.split('T')[0] }}</div> 
                    <!-- </div> -->
                    <div class="row mb-2">
                        <div class="review-text serif mt-2">{{ review.review }}</div>
                    </div>
                    <div class="row">
                        <!-- <div class="view-comments">View comments</div> -->
                        <app-comments class="mt-2" [reviewId]="review.id"></app-comments>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>